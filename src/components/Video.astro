---
import { getI18N } from "@/i18n";
import { getLangFromUrl, useTranslatedPath } from "@/i18n/utils";

const lang = getLangFromUrl(Astro.url);
const translatePath = useTranslatedPath(lang);

const { currentLocale } = Astro;
const i18n = getI18N({ currentLocale });
---

<div class="w-full relative">
  <div class="w-full flex justify-center">
    <h1
      class="absolute z-10 text-2xl md:text-4xl text-white top-20 uppercase font-semibold max-w-7xl text-center text-balance px-1"
    >
      {i18n.VIDEO_TITLE}
    </h1>
  </div>

  <video
    class="w-full h-screen object-cover animate-fade animate-duration-1000 videoClipPath"
    src="/steam-video.mp4"
    autoplay
    muted></video>
  <video
    class="absolute -bottom-48 blur-3xl -z-40"
    src="/steam-video.mp4"
    autoplay
    muted
    loop></video>
</div>

<style>
  .videoClipPath {
    clip-path: polygon(100% 0, 100% 85%, 50% 100%, 0 85%, 0 0);
  }

  @media (max-width: 768px) {
    .videoClipPath {
      clip-path: polygon(100% 0, 100% 85%, 50% 90%, 0 85%, 0 0);
    }
  }
</style>
